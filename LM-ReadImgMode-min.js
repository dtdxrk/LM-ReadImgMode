!function(a){function c(a){this.init.call(this,a)}function d(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c]);return a}c.prototype={init:function(a){if(!a&&typeof a.id!=String&&typeof a.aImg!=Array)throw new Error("LM_ReadImgMode arguments is not undefined");d(this,a),this.img=document.getElementById(this.id),this.page=1,this.tote=this.aImg.length,this._img=new Image,this.autoTimmer=null,this.autoTime=6e3,this.getPage().jump(this.page).autoFun()},autoFun:function(){return this.isAuto&&this.autoPlay(),this},autoPlay:function(){var a=this;a.isAuto=!0,clearTimeout(a.autoTimmer),a.autoTimmer=setTimeout(function(){a.next()},a.autoTime)},autoStop:function(){this.isAuto=!1,clearTimeout(this.autoTimmer)},getPage:function(){var c,b=a.location.href;return(b.indexOf("#LM_ReadImgMode=")>-1||b.indexOf("%23LM_ReadImgMode=")>-1)&&(b=b.split("#LM_ReadImgMode=")||b.split("%23LM_ReadImgMode="),c=Number(b[1]),this.page=this.extPage(c)),this},jump:function(a){return this.onPageStart(),this.page=this.extPage(a),this.loadImg(this.aImg[this.page-1]),this},onPageStart:function(a){return"function"==typeof a&&(this.onPageStart=a),this},onPageLoad:function(a){return this.img.src=a,location.hash="#LM_ReadImgMode="+this.page,this.onPageEnd(),this.autoFun(),this},onPageEnd:function(a){return"function"==typeof a&&(this.onPageEnd=a),this},prev:function(){return this.page--,this.page<1?(this.page=1,this.prevEnd()):(this.jump(this.page),this)},next:function(){return this.page++,this.page>this.tote?(this.page=this.tote,this.nextEnd()):(this.jump(this.page),this)},prevEnd:function(a){return"function"==typeof a&&(this.prevEnd=a),this},nextEnd:function(a){return"function"==typeof a&&(this.nextEnd=a),this},extPage:function(a){return a>this.tote||1>a||isNaN(a)?1:a},loadImg:function(a){var b=this;return _img=new Image,_img.src=a,_img.complete?b.onPageLoad(a):_img.onload=function(){b.onPageLoad(a)},b}},a["LM_ReadImgMode"]=c}(window);